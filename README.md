#binary websocketをはじめよう

みなさん、websocketで何かしらの構造化されたデータを送るとき、どうやってシリアライズしているでしょうか。
おそらく `JSON.stringify` あたりを使ってJSON文字列にしていますよね。実際、これは一番手軽な方法です。
しかし、通信量やCPUの処理コスト(特にサーバ側)などを考えるとJSONというものは結構無駄があります。

より通信量やCPUコストを抑える一つの方法として、バイナリでデータをやりとりする方法があります。
これはネイティブなアプリやサーバサイドでは昔から行われていたことです。
JavaScriptでも文字列をバイナリに見立てて処理するという方法もありましたが、現実的ではありませんでした。
しかし、最近ではHTML5関連のAPIでTypedArrayというものが登場して、
バイナリ操作も以前より格段に楽に行えるようになっています。
もちろんwebsocketでもバイナリ形式でのやりとりをサポートしています。
現状では、バイナリでの通信は全ての環境で使えるというわけではありませんが、そのうち絶対に使うようになるはずです。

ここでは入門編としてwebsocketでお絵かきアプリ線データのシリアライズ・デシリアライズ部分を

* JSON
* MessagePack
* 独自の構造のバイナリ

のそれぞれで実装してみた。以下の章で見ていきたいと思います。

ここで紹介するデモアプリはgithubより落として試すことができます。
Chromeでしか動作確認していませんが是非、実際に動かしてみてください。

###インストール

```

```

###アプリの起動

```

```

##お絵かきアプリの概要

###クライアント側の共通部分

###サーバ側の共通部分

###JSON

###MessagePack

###独自の構造のバイナリ

##まとめ

##おまけ
