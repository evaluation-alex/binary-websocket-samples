#binary websocketをはじめよう

みなさん、websocketで何かしらの構造化されたデータを送るとき、どうやってシリアライズしているでしょうか。
おそらく `JSON.stringify` あたりを使ってJSON文字列にしていますよね。実際、これは一番手軽な方法です。
しかし、通信量やCPUの処理コスト(特にサーバ側)などを考えるとJSONは結構無駄があります(よね？)。

より通信量やCPUコストを抑える一つの方法として、バイナリでデータをやりとりするのはどうでしょうか。
特に最近ではHTML5関連のAPIでTypedArrayというものがあって、バイナリ操作も以前より格段に楽に行えるようになっています。
現状では、全ての環境で使えるというわけではありませんが、そのうち絶対に使うようになるはずです。

ここでは入門編としてwebsocketでお絵かきアプリ(最初につくるものの定番ですよね？)を

* JSON
* msgpack
* 独自の構造のバイナリ

のそれぞれで実装してみたので、以下で見ていきたいと思います。